import{r as u,b as s,o as w,c as v,w as k,v as x,d as l,e as r,a as m,m as C,n as c,f as p,h as y,g as E,i as F}from"./index-C5ViBo8_.js";const V={class:"flex flex-col overflow-auto"},A={class:"flex justify-center mb-3"},q={class:"table-bar flex justify-between items-center mb-3"},T={__name:"baseTable",setup(B){const n=u({ref:null,show:!1,model:{name:"",age:"",email:"",date:""},items:[{label:"姓名",prop:"name"},{label:"年龄",prop:"age",slot:"agel-select",attrs:{options:["12","13"],onChange:t=>{console.log(t)}}},{label:"邮件",prop:"email"},{label:"出生日期",prop:"date",slot:"el-date-picker",attrs:{type:"datetime"}}]}),e=u({ref:null,show:!1,title:"",state:"edit",model:{name:"",age:"",date:"",email:"",decs:""},items:[{label:"姓名",prop:"name",required:!0},{label:"年龄",prop:"age",required:!0},{label:"出生日期",prop:"date",slot:"el-date-picker"},{label:"邮件",span:3,prop:"email"},{label:"介绍",prop:"decs",span:3,attrs:{type:"textarea",rows:5}}],toAdd:()=>{e.show=!0,e.title="新增用户",e.state="add",c(()=>{var t;(t=e.ref)==null||t.resetFields()})},toEdit:t=>{e.show=!0,e.title="编辑用户资料",e.state="edit",c(()=>{e.model={...t}})},toView:t=>{e.show=!0,e.title="查看用户资料",e.state="view",c(()=>{e.model={...t}})},submit:()=>{var t;(t=e.ref)==null||t.validate().then(()=>{e.show=!1,o.request()})}}),o=u({loading:!1,border:!0,data:[],page:{sortOrder:null,sortProp:"",currentPage:1,pageSize:10,total:0},columns:[{label:"#",type:"selection"},{label:"姓名",prop:"name",sortable:"custom",width:100},{label:"年龄",prop:"age",sortable:"custom",width:100},{label:"邮件",prop:"email",width:250},{label:"出生日期",prop:"date",width:150},{label:"介绍",prop:"decs",showOverflowTooltip:!0},{width:"120px",label:"操作",fixed:"right",slot:t=>l("div",null,[l(s("el-button"),{link:!0,type:"primary",onClick:()=>e.toView(t.row)},{default:()=>[p("查看")]}),l(s("el-divider"),{direction:"vertical"},null),l(s("el-button"),{link:!0,type:"primary",onClick:()=>e.toEdit(t.row)},{default:()=>[p("编辑")]})])}],request:()=>{o.loading=!0,y.post("/mock/data",{size:o.page.pageSize}).then(t=>{o.data=t.data.list,o.page.total=t.data.total,o.loading=!1})}});return o.request(),(t,i)=>{const b=s("AgelFormGrid"),d=s("ElButton"),f=s("ElForm"),g=s("AgelTable"),h=s("AgelFormDesc"),_=s("ElDialog");return w(),v("div",V,[k(l(f,{ref:a=>n.ref=a,model:n.model,"label-width":"80px"},{default:r(()=>[l(b,{items:n.items,responsive:""},null,8,["items"]),m("div",A,[l(d,{icon:"RefreshRight",onClick:i[0]||(i[0]=()=>{var a;return(a=n.ref)==null?void 0:a.resetFields()})},{default:r(()=>[p("重置")]),_:1}),l(d,{type:"primary",icon:"Search",onClick:o.request},{default:r(()=>[p("查询")]),_:1},8,["onClick"])])]),_:1},8,["model"]),[[x,n.show]]),m("div",q,[m("div",null,[l(d,{icon:"Plus",onClick:e.toAdd},{default:r(()=>[p("新增")]),_:1},8,["onClick"]),l(d,{icon:"Delete"},{default:r(()=>[p("删除")]),_:1})]),m("div",null,[l(d,{icon:"Refresh",round:"",onClick:o.request},null,8,["onClick"]),l(d,{icon:"Search",round:"",onClick:i[1]||(i[1]=a=>n.show=!n.show)})])]),l(g,C({class:"flex-1"},o,{page:o.page,"onUpdate:page":i[2]||(i[2]=a=>o.page=a)}),null,16,["page"]),l(_,{modelValue:e.show,"onUpdate:modelValue":i[3]||(i[3]=a=>e.show=a),title:e.title,width:"800px",top:"10vh"},{footer:r(()=>[e.state!=="view"?(w(),E(d,{key:0,type:"primary",onClick:e.submit},{default:r(()=>[p("提交")]),_:1},8,["onClick"])):F("",!0)]),default:r(()=>[l(f,{ref:a=>e.ref=a,model:e.model,"label-width":"80px"},{default:r(()=>[l(h,{items:e.items,"view-model":e.state=="view"},null,8,["items","view-model"])]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}};export{T as default};
