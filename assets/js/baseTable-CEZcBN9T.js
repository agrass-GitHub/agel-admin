import{_ as u,ai as r,o as w,c as v,Q as k,W as x,V as o,P as i,a as m,L as C,n as c,T as d,O as y,S as E}from"./@vue-BUfntaX4.js";import{h as F}from"./index-3ax47SeH.js";import"./pinia-BcZ_goKD.js";import"./vue-demi-Dq6ymT-8.js";import"./@element-plus-CEn1-KrG.js";import"./element-plus-crx-D5bblJ1H.js";import"./element-plus-DXIbwMX0.js";import"./lodash-es-CiJSjksT.js";import"./@vueuse-DrCho8eq.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-Cdlb6j_n.js";import"./async-validator-DKvM95Vc.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-DbhjpF8H.js";import"./axios-B6xwUs71.js";import"./vue-router-BgQatW0n.js";import"./mockjs-B3hQZpvU.js";/* empty css                */const V={class:"flex flex-col overflow-auto"},A={class:"flex justify-center mb-3"},q={class:"table-bar flex justify-between items-center mb-3"},X={__name:"baseTable",setup(B){const n=u({ref:null,show:!1,model:{name:"",age:"",email:"",date:""},items:[{label:"姓名",prop:"name"},{label:"年龄",prop:"age",slot:"agel-select",attrs:{options:["12","13"],onChange:t=>{console.log(t)}}},{label:"邮件",prop:"email"},{label:"出生日期",prop:"date",slot:"el-date-picker",attrs:{type:"datetime"}}]}),e=u({ref:null,show:!1,title:"",state:"edit",model:{name:"",age:"",date:"",email:"",decs:""},items:[{label:"姓名",prop:"name",required:!0},{label:"年龄",prop:"age",required:!0},{label:"出生日期",prop:"date",slot:"el-date-picker"},{label:"邮件",span:3,prop:"email"},{label:"介绍",prop:"decs",span:3,attrs:{type:"textarea",rows:5}}],toAdd:()=>{e.show=!0,e.title="新增用户",e.state="add",c(()=>{var t;(t=e.ref)==null||t.resetFields()})},toEdit:t=>{e.show=!0,e.title="编辑用户资料",e.state="edit",c(()=>{e.model={...t}})},toView:t=>{e.show=!0,e.title="查看用户资料",e.state="view",c(()=>{e.model={...t}})},submit:()=>{var t;(t=e.ref)==null||t.validate().then(()=>{e.show=!1,l.request()})}}),l=u({loading:!1,border:!0,data:[],page:{sortOrder:null,sortProp:"",currentPage:1,pageSize:10,total:0},columns:[{label:"#",type:"selection"},{label:"姓名",prop:"name",sortable:"custom",width:100},{label:"年龄",prop:"age",sortable:"custom",width:100},{label:"邮件",prop:"email",width:250},{label:"出生日期",prop:"date",width:150},{label:"介绍",prop:"decs",showOverflowTooltip:!0},{width:"120px",label:"操作",fixed:"right",slot:t=>o("div",null,[o(r("el-button"),{link:!0,type:"primary",onClick:()=>e.toView(t.row)},{default:()=>[d("查看")]}),o(r("el-divider"),{direction:"vertical"},null),o(r("el-button"),{link:!0,type:"primary",onClick:()=>e.toEdit(t.row)},{default:()=>[d("编辑")]})])}],request:()=>{l.loading=!0,F.post("/mock/data",{size:l.page.pageSize}).then(t=>{l.data=t.data.list,l.page.total=t.data.total,l.loading=!1})}});return l.request(),(t,s)=>{const b=r("AgelFormGrid"),p=r("ElButton"),f=r("ElForm"),g=r("AgelTable"),h=r("AgelFormDesc"),_=r("ElDialog");return w(),v("div",V,[k(o(f,{ref:a=>n.ref=a,model:n.model,"label-width":"80px"},{default:i(()=>[o(b,{items:n.items,responsive:""},null,8,["items"]),m("div",A,[o(p,{icon:"RefreshRight",onClick:s[0]||(s[0]=()=>{var a;return(a=n.ref)==null?void 0:a.resetFields()})},{default:i(()=>[d("重置")]),_:1}),o(p,{type:"primary",icon:"Search",onClick:l.request},{default:i(()=>[d("查询")]),_:1},8,["onClick"])])]),_:1},8,["model"]),[[x,n.show]]),m("div",q,[m("div",null,[o(p,{icon:"Plus",onClick:e.toAdd},{default:i(()=>[d("新增")]),_:1},8,["onClick"]),o(p,{icon:"Delete"},{default:i(()=>[d("删除")]),_:1})]),m("div",null,[o(p,{icon:"Refresh",round:"",onClick:l.request},null,8,["onClick"]),o(p,{icon:"Search",round:"",onClick:s[1]||(s[1]=a=>n.show=!n.show)})])]),o(g,C({class:"flex-1"},l,{page:l.page,"onUpdate:page":s[2]||(s[2]=a=>l.page=a)}),null,16,["page"]),o(_,{modelValue:e.show,"onUpdate:modelValue":s[3]||(s[3]=a=>e.show=a),title:e.title,width:"800px",top:"10vh"},{footer:i(()=>[e.state!=="view"?(w(),y(p,{key:0,type:"primary",onClick:e.submit},{default:i(()=>[d("提交")]),_:1},8,["onClick"])):E("",!0)]),default:i(()=>[o(f,{ref:a=>e.ref=a,model:e.model,"label-width":"80px"},{default:i(()=>[o(h,{items:e.items,"view-model":e.state=="view"},null,8,["items","view-model"])]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}};export{X as default};
