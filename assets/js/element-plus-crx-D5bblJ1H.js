import{u as _e,f as Me,g as ve,E as oe,a as Fe,b as Ve,c as ze,d as Ne,e as Oe,h as Pe,i as Be,j as De,k as Ke,l as We,m as qe,n as Le,o as He,p as Ue,q as we,r as je,s as Ge,t as Xe,v as se,w as Ye,x as Je,y as Qe,z as Ze,A as el,B as ll,C as tl,D as ol,F as al,G as nl,H as rl,I as sl,J as il,K as ul,L as dl,M as pl,N as cl}from"./element-plus-DXIbwMX0.js";import{k as T,B as fe,M as he,w as Y,H as fl,n as Z,d as K,a2 as ml,r as V,i as ie,Z as ye,f as $e,aq as be,o as g,O as $,P as M,I as R,ac as me,ad as ke,Q as X,c as I,J,u as c,V as N,ah as q,ai as ae,F as L,a8 as j,L as O,A as Se,R as Ce,T as Q,U as z,aa as ne,S as W,a as F,a9 as gl,a3 as re,_ as ge,W as le,K as vl,X as hl,a6 as yl,h as bl}from"./@vue-BUfntaX4.js";import{Q as Cl}from"./@element-plus-CEn1-KrG.js";function te(){const m=_e().value;return m&&m.experimentalFeatures&&m.experimentalFeatures.ElementPlusCrx?m.experimentalFeatures.ElementPlusCrx:{AgelFormItem:{},AgelTable:{}}}function ue(m){return T(()=>{const e=_e().value;return e&&e.locale&&e.locale.name&&m[e.locale.name]?m[e.locale.name]:m.en})}const Te="formLayoutContext";function de(m){const s=fe(Me),e=he(),t={},r=T(()=>m.items.filter(l=>l.hidden!==!0));function p(l=""){return m.modelProp&&l?m.modelProp+"."+l:l||""}function C(l){let k=p(l.prop),i=m.scope||{},a=typeof l.viewModel=="boolean"?l.viewModel:m.viewModel;return{...i,...l,prop:k,viewModel:a}}function o(l){const i=((s==null?void 0:s.requireAsteriskPosition)||"left")=="right"?"agel-required-label-right":"agel-required-label";if(s!=null&&s.hideRequiredAsterisk)return"";if(l.required||l.rules&&(Array.isArray(l.rules)?l.rules:[l.rules]).some(w=>w==null?void 0:w.required))return i;if(s.rules&&l.prop){const a=ve(s.rules,l.prop).value;if(a&&(Array.isArray(a)?a:[a]).some(B=>B==null?void 0:B.required))return i}return""}function u(l){const k=r.value.map(i=>p(i.prop));return s.validateField(k,l)}function n(l){const k=l||r.value.map(i=>p(i.prop));return s.resetFields(k)}function y(l){if(l&&t[l])return t[l]}return Y(()=>s.model,(l,k)=>{l!==k&&Z(s.clearValidate)}),fl(Te,{refs:t,slots:e}),{formContext:s,formSlots:e,formRefs:t,formItems:r,validate:u,resetFields:n,getRef:y,getFormItemProp:p,getFormItemProps:C,getRequiredAsteriskClass:o}}const wl={class:"vloading__content el-form-item__content"},ee=K({name:"AgelFormItem",inheritAttrs:!1,__name:"AgelFormItem",props:{prop:{},label:{},required:{type:Boolean},labelWidth:{},rules:{},error:{},showMessage:{type:Boolean,default:!0},inlineMessage:{type:Boolean,default:!1},class:{},attrs:{},slot:{type:[String,Function],default:oe},slots:{},viewModel:{type:Boolean},viewFormat:{},vmodel:{},loading:{type:Boolean}},setup(m,{expose:s}){const e=m,t=ml(),r=te().AgelFormItem,p=fe(Me),C=fe(Te),o=V({value:void 0}),u=V(),n=V(),y=ue({"zh-cn":{required:"必填"},en:{required:" is required"}}),l=T(()=>"agel-form-item "+e.class),k=T(()=>{if(e.required){const b={required:!0,message:((e.label&&typeof e.label=="string"?e.label:e.prop)||"")+y.value.required,trigger:"change"};return Array.isArray(e.rules)?[b,...e.rules]:e.rules instanceof Object?[b,e.rules]:[b]}else return e.rules}),i=T(()=>({...e,...t,modelValue:o.value.value,label:typeof e.label=="string"?e.label:""})),a=()=>e.labelWidth===0||e.labelWidth==="0px"?null:typeof e.label=="string"?q("span",e.label):typeof e.label=="function"?e.label({...i.value,label:""}):null,w=()=>{if(e.viewModel)return e.viewFormat?e.viewFormat({...i.value}):q("span",{},o.value.value);if(typeof e.slot=="function")return e.slot({...i.value});if(typeof e.slot=="string"&&e.slot.indexOf("slot-")==0&&C&&C.slots[e.slot])return C.slots[e.slot]({...i.value});const A=typeof e.slot=="string"?ae(e.slot):e.slot;if(typeof A!="object")return null;const b={...(A.name&&r&&r[A.name]?r[A.name]({...i.value}):{})||{},...e.attrs||{},ref:u,modelValue:o.value.value,"onUpdate:modelValue":B},h=typeof e.slots=="function"?{default:e.slots}:e.slots;return q(A,b,{...h})};function B(A){const v=e.vmodel;typeof v=="string"&&typeof A=="string"&&(v==".trim"?A=A.trim():v==".number"&&!isNaN(parseFloat(A))&&(A=parseFloat(A))),o.value.value=A}function d(){n.value.resetField()}function _(){n.value.clearValidate()}return ie(()=>{C&&e.prop&&(C.refs[e.prop]=u.value)}),ye(()=>{C&&e.prop&&(C.refs[e.prop]=void 0)}),$e(()=>{p&&p.model&&e.prop&&(o.value=ve(p.model,e.prop))}),s({elRef:u,resetField:d,clearValidate:_}),(A,v)=>{const b=be("loading");return g(),$(c(Fe),{prop:A.prop,"label-width":A.labelWidth===0?"0px":A.labelWidth,"show-message":A.showMessage,"inline-message":A.inlineMessage,error:A.error,rules:k.value,class:J(l.value),ref_key:"formItemRef",ref:n},{label:M(()=>[R(A.$slots,"label",{},()=>[N(a)])]),error:M(h=>[R(A.$slots,"error",me(ke(h)))]),default:M(()=>[X((g(),I("div",wl,[R(A.$slots,"default",me(ke(i.value)),()=>[N(w)])])),[[b,A.loading]])]),_:3},8,["prop","label-width","show-message","inline-message","error","rules","class"])}}}),kl={class:"agel-form-items"},Al=K({name:"AgelFormItems",__name:"AgelFormItems",props:{items:{},modelProp:{},viewModel:{type:Boolean},scope:{}},setup(m,{expose:s}){const e=m,{formItems:t,getFormItemProps:r,getRef:p,validate:C,resetFields:o}=de(e);return s({getRef:p,validate:C,resetFields:o}),(u,n)=>(g(),I("div",kl,[(g(!0),I(L,null,j(c(t),(y,l)=>(g(),$(c(ee),O({ref_for:!0},c(r)(y),{key:l}),null,16))),128))]))}}),_l=K({name:"AgelFormGrid",__name:"AgelFormGrid",props:{items:{},modelProp:{},viewModel:{type:Boolean},scope:{},span:{default:24},responsive:{type:Boolean},responsiveMethod:{},tag:{},gutter:{default:18},justify:{},align:{}},setup(m,{expose:s}){const e=m,{formItems:t,getFormItemProps:r,getRef:p,validate:C,resetFields:o}=de(e),u=V(),n=V(24),y=new ResizeObserver(function(){const i=u.value.$el;if(!i)return;const a=i.clientWidth-e.gutter;!e.responsive||a==0||(n.value=e.responsiveMethod?e.responsiveMethod(a):k(a))});function l(i){return typeof i=="number"?i:e.responsive?n.value:e.span}function k(i){let a=24;return i>=500&&i<800&&(a=12),i>=800&&i<1200&&(a=8),i>=1200&&i<1600&&(a=6),i>=1600&&(a=4),a}return ie(()=>{e.responsive&&y.observe(u.value.$el)}),Se(()=>{e.responsive&&y.unobserve(u.value.$el)}),s({getRef:p,validate:C,resetFields:o}),(i,a)=>(g(),$(c(ze),{ref_key:"rowRef",ref:u,class:"agel-form-grid",gutter:i.gutter,justify:i.justify,align:i.align,tag:i.tag},{default:M(()=>[R(i.$slots,"prepend"),(g(!0),I(L,null,j(c(t),(w,B)=>(g(),$(c(Ve),{key:B,span:l(w.span),push:w.push,pull:w.pull,offset:w.offset},{default:M(()=>[N(c(ee),O({ref_for:!0},c(r)(w)),null,16)]),_:2},1032,["span","push","pull","offset"]))),128)),R(i.$slots,"append")]),_:3},8,["gutter","justify","align","tag"]))}});function Ee(m,s){let e={};return m.forEach(t=>{let r=s[t];r!==void 0&&(e[t]=r)}),e}function G(m,s){let e={};for(const t in s)s[t]!==void 0&&!m.includes(t)&&(e[t]=s[t]);return e}function Ml(){return"xxxxxxxx".replace(/[x]/g,m=>{let s=Math.random()*16|0;return(m=="x"?s:s&3|8).toString(16)})}function pe(m){return m.reduce((s,e)=>s.concat(Array.isArray(e.children)&&e.children.length>0?pe(e.children):e),[])}function xe(m){const s=m.split(".").pop(),t=(s?s.split("?")[0]:"").toLocaleLowerCase();return["png","jpg","jpeg","bmp","gif","svg"].includes(t)?"img":["mp4","ogg","webm"].includes(t)?"video":["mp3","wav","ogg"].includes(t)?"audio":""}const Ae=function(m,s){let e="dynamic-style-"+m,t=document.getElementById(e);t&&t.parentNode&&t.parentNode.removeChild(t),typeof s=="string"&&(t=document.createElement("style"),t.id=e,t.type="text/css",document.getElementsByTagName("head")[0].appendChild(t),t.appendChild(document.createTextNode(s)))};function Pl(m,s){let e=null;return function(...t){e||(e=setTimeout(()=>{m.apply(this,t),e=null},s))}}const Bl=K({name:"AgelFormDesc",__name:"AgelFormDesc",props:{labelWidth:{},contentWidth:{},items:{},modelProp:{},scope:{},viewModel:{type:Boolean},border:{type:Boolean,default:!0},title:{},extra:{},column:{}},setup(m,{expose:s}){const e=m,t="decs-"+Ml(),{formContext:r,formItems:p,getFormItemProps:C,getRequiredAsteriskClass:o,getRef:u,validate:n,resetFields:y}=de(e),l=T(()=>(r==null?void 0:r.labelPosition)=="top"?"vertical":"horizontal"),k=T(()=>(r==null?void 0:r.size)||"default"),i=function(d){const _=typeof d.label=="function"?d.label():q("span",d.label),A={class:o(d)};return q("div",A,[_])};function a(d){let _=d.labelWidth||e.labelWidth||(r==null?void 0:r.labelWidth)||"auto",A=d.contentWidth||e.contentWidth||"auto",v=typeof _=="number"?_+"px":_,b=typeof A=="number"?A+"px":A;return{labelClassName:"__label-width-"+v,labelWidth:v,contentWidth:b}}function w(d){let _=r==null?void 0:r.labelPosition;return{span:d.span,class:d.className,labelAlign:_=="right"?"right":"left",labelClassName:a(d).labelClassName+" "+(d.labelClassName||"")}}function B(){let d="",_=[];return p.value.forEach(A=>{let{labelClassName:v,labelWidth:b,contentWidth:h}=a(A);_.includes(v)||(_.push(v),d+=`
        #${t} .${v} {
          width:${b} !important; 
        }  
        #${t} .${v}+td{
          min-width:${h};  
        }  
        `)}),d}return $e(()=>{Ae(t,B())}),Se(()=>{Ae(t,null)}),s({getRef:u,validate:n,resetFields:y}),(d,_)=>(g(),$(c(Oe),{border:"",title:d.title,extra:d.extra,column:d.column,direction:l.value,size:k.value,id:t,class:J(["agel-form-decs __hidelabel __inlinemsg __fullwidth __fixed-clearable ",{"desc-hide-border":!d.border}])},{extra:M(()=>[R(d.$slots,"extra")]),title:M(()=>[R(d.$slots,"title")]),default:M(()=>[R(d.$slots,"prepend"),(g(!0),I(L,null,j(c(p),(A,v)=>(g(),$(c(Ne),O({key:v,ref_for:!0},w(A)),{label:M(()=>[N(i,O({ref_for:!0},A),null,16)]),default:M(()=>[N(c(ee),O({ref_for:!0},c(C)(A),{"label-width":"0px"}),null,16)]),_:2},1040))),128)),R(d.$slots,"append")]),_:3},8,["title","extra","column","direction","size","class"]))}}),$l=K({name:"AgelFormTableditor",__name:"AgelFormTableditor",props:{items:{default:()=>[]},modelProp:{},size:{},width:{default:"100%"},height:{},maxHeight:{},fit:{type:Boolean,default:!0},stripe:{type:Boolean},border:{type:Boolean},rowKey:{},context:{},showHeader:{type:Boolean,default:!0},showSummary:{type:Boolean},sumText:{},summaryMethod:{},rowClassName:{},rowStyle:{},cellClassName:{},cellStyle:{},headerRowClassName:{},headerRowStyle:{},headerCellClassName:{},headerCellStyle:{},highlightCurrentRow:{type:Boolean},currentRowKey:{},emptyText:{},expandRowKeys:{},defaultExpandAll:{type:Boolean},defaultSort:{},tooltipEffect:{},tooltipOptions:{},spanMethod:{},selectOnIndeterminate:{type:Boolean,default:!0},indent:{},treeProps:{},lazy:{type:Boolean},load:{},className:{},style:{},tableLayout:{},scrollbarAlwaysOn:{type:Boolean},flexible:{type:Boolean},showOverflowTooltip:{type:[Boolean,Object]},onSelect:{},onSelectAll:{},onSelectionChange:{},onCellMouseEnter:{},onCellMouseLeave:{},onCellClick:{},onCellDbClick:{},onCellContextmenu:{},onRowClick:{},onRowContextmenu:{},onRowDbClick:{},onHeaderClick:{},onHeaderContextmenu:{},onSortChange:{},onFilterChange:{},onCurrentChange:{},onHeaderDragend:{},onExpandChange:{}},setup(m,{expose:s}){const e=m,t=["type","index","align","headerAlign","width","minWidth","fixed","showOverflowTooltip"],r=["items","modelProp"],{formContext:p,formRefs:C,getRequiredAsteriskClass:o,getRef:u}=de(e),n=T(()=>p.model?ve(p.model,e.modelProp,[]).value:[]),y=({columns:i})=>i.filter(a=>a.hidden!==!0).map(a=>{const w=()=>{const A=typeof a.label=="function"?a.label():q("span",a.label),v={class:o(a)};return q("div",v,[A])},B=({$index:A,row:v})=>{if(a.type)return null;if(a.children&&a.children.length>0)return q(y,{columns:a.children});const b=l(a.prop,A),h={rowData:v,rowIndex:A},S=typeof a.viewModel=="boolean"?a.viewModel:v._view_;return q(ee,{...h,...a,prop:b,viewModel:S,labelWidth:"0px"})},d=Ee(t,a);return q(Be,d,{header:w,default:B})});function l(i="",a){return i?`${e.modelProp}.${a}.${i}`:""}function k(i,a){const w=pe(e.items).map(B=>l(B.prop,i)).filter(B=>B);return p.validateField(w,a)}return s({getRef:u,validateRow:k}),(i,a)=>(g(),$(c(Pe),O({ref:w=>c(C).elTable=w,class:"agel-form-table __hidelabel __inlinemsg __fullwidth"},c(G)(r,e),{data:n.value}),{empty:M(()=>[R(i.$slots,"empty")]),append:M(()=>[R(i.$slots,"append-row")]),default:M(()=>[R(i.$slots,"prepend"),R(i.$slots,"default",{},()=>[N(y,{columns:i.items},null,8,["columns"])]),R(i.$slots,"append")]),_:3},16,["data"]))}}),Sl=K({name:"AgelCheckbox",__name:"AgelCheckbox",props:{options:{default:()=>[]},props:{default:()=>({label:"label",value:"value"})},button:{type:Boolean},border:{type:Boolean},ariaLabel:{},modelValue:{},disabled:{type:Boolean},min:{},max:{},size:{},label:{},fill:{},textColor:{},tag:{},validateEvent:{type:Boolean,default:!0}},emits:["update:model-value","change"],setup(m,{emit:s}){const e=m,t=s,r=T(()=>G(["options","props","button","border"],e)),p=T(()=>e.options.map(u=>typeof u=="string"?{label:u,value:u}:u)),C=T(()=>e.button?Ke:We);return(o,u)=>(g(),$(c(De),O({class:"agel-checkbox-group"},r.value,{"onUpdate:modelValue":u[0]||(u[0]=n=>t("update:model-value",n)),onChange:u[1]||(u[1]=n=>t("change",n))}),{default:M(()=>[(g(!0),I(L,null,j(p.value,(n,y)=>(g(),$(Ce(C.value),{key:y,border:o.border,label:n[e.props.value],disabled:n.disabled,checked:n.checked},{default:M(()=>[R(o.$slots,"default",{item:n,index:y},()=>[Q(z(n[e.props.label]),1)])]),_:2},1032,["border","label","disabled","checked"]))),128))]),_:3},16))}}),Tl=K({name:"AgelRadio",__name:"AgelRadio",props:{options:{default:()=>[]},props:{default:()=>({label:"label",value:"value"})},button:{type:Boolean},border:{type:Boolean}},emits:["update:model-value","change"],setup(m,{emit:s}){const e=m,t=s,r=T(()=>G(["options","props","button","border"],e)),p=T(()=>e.options.map(u=>typeof u=="string"?{label:u,value:u}:u)),C=T(()=>e.button?Le:He);return(o,u)=>(g(),$(c(qe),O({class:"agel-radio-group"},r.value,{"onUpdate:modelValue":u[0]||(u[0]=n=>t("update:model-value",n)),onChange:u[1]||(u[1]=n=>t("change",n))}),{default:M(()=>[(g(!0),I(L,null,j(p.value,(n,y)=>(g(),$(Ce(C.value),{key:y,border:o.border,label:n[e.props.value],value:n[e.props.value],disabled:n.disabled},{default:M(()=>[R(o.$slots,"default",{item:n,index:y},()=>[Q(z(n[e.props.label]),1)])]),_:2},1032,["border","label","value","disabled"]))),128))]),_:3},16))}}),El=K({name:"AgelSelect",__name:"AgelSelect",props:{options:{default:()=>[]},props:{default:()=>({label:"label",value:"value"})}},emits:["update:model-value","change","visible-change","remove-tag","clear","blur","focus"],setup(m,{expose:s,emit:e}){const t=m,r=e,p=V(),C=T(()=>G(["options","props"],t)),o=T(()=>t.options.map(l=>typeof l=="string"?{label:l,value:l}:l));return s({focus:()=>p.value.focus(),blur:()=>p.value.blur()}),(y,l)=>(g(),$(c(je),O({ref_key:"elSelectRef",ref:p,class:"agel-select"},C.value,{"onUpdate:modelValue":l[0]||(l[0]=k=>r("update:model-value",k)),onVisibleChange:l[1]||(l[1]=k=>r("visible-change",k)),onRemoveTag:l[2]||(l[2]=k=>r("remove-tag",k)),onClear:l[3]||(l[3]=k=>r("clear",k)),onBlur:l[4]||(l[4]=k=>r("blur",k)),onFocus:l[5]||(l[5]=k=>r("focus",k))}),ne({default:M(()=>[(g(!0),I(L,null,j(o.value,(k,i)=>(g(),I(L,{key:i},[k.options&&k.options.length>0?(g(),$(c(Ue),{key:0,label:String(k[t.props.label]),disabled:k.disabled},{default:M(()=>[(g(!0),I(L,null,j(k.options,(a,w)=>(g(),$(c(we),{key:w,label:a[t.props.label],value:a[t.props.value],disabled:a.disabled},{default:M(()=>[R(y.$slots,"default",{item:a,index:w})]),_:2},1032,["label","value","disabled"]))),128))]),_:2},1032,["label","disabled"])):(g(),$(c(we),{key:1,label:k[t.props.label],value:k[t.props.value],disabled:k.disabled},{default:M(()=>[R(y.$slots,"default",{item:k,index:i})]),_:2},1032,["label","value","disabled"]))],64))),128))]),prefix:M(()=>[R(y.$slots,"prefix")]),_:2},[y.$slots.empty?{name:"empty",fn:M(()=>[R(y.$slots,"empty")]),key:"0"}:void 0]),1040))}}),xl=["src"],U=K({name:"AgelIcon",__name:"AgelIcon",props:{icon:{}},setup(m){const s=Cl;return(e,t)=>typeof e.icon=="string"&&c(xe)(e.icon)=="img"?(g(),I("img",O({key:0,src:e.icon,class:"el-icon"},e.$attrs),null,16,xl)):(g(),$(c(Ge),me(O({key:1},e.$attrs)),{default:M(()=>[(g(),$(Ce(typeof e.icon=="string"&&c(s)[e.icon]?c(s)[e.icon]:e.icon)))]),_:1},16))}}),Rl={key:0,class:"el-upload__tip"},Il={class:"el-upload__text"},Fl=K({name:"AgelUpload",__name:"AgelUpload",props:{modelValue:{default:()=>[]},preview:{type:Boolean,default:!0},message:{type:Boolean,default:!0},limitHide:{type:Boolean},limitSize:{},tip:{},beforeUpload:{},beforeRemove:{},onRemove:{},onChange:{},onPreview:{},onSuccess:{},onProgress:{},onError:{},onExceed:{},crossorigin:{},action:{},headers:{},method:{},data:{},multiple:{type:Boolean},name:{},drag:{type:Boolean},withCredentials:{type:Boolean},showFileList:{type:Boolean,default:!0},accept:{},autoUpload:{type:Boolean,default:!0},listType:{default:"text"},httpRequest:{},disabled:{type:Boolean},limit:{}},setup(m,{expose:s}){const e=m,t=V(),r=T(()=>G(["modelValue","peview","message","limitHide","limitSize","tip"],e)),p=ue({"zh-cn":{limitSize:"最大允许上传大小",limit:"最大允许上传个数",error:"文件上传失败",upload:"点击上传",drag:"将文件拖到此处，或"},en:{limitSize:"Maximum allowed upload size",limit:"Maximum number of uploads allowed",error:"File upload failure",upload:"Click to upload",drag:"Drop file here or "}}),C=T(()=>e.limitHide&&e.limit!==void 0&&e.modelValue.length>=e.limit);function o(d,_){e.message&&Je[d](_)}function u(d){return e.limitSize&&d.size&&d.size/1024>e.limitSize?(o("warning",`${p.value.limitSize}：${e.limitSize}kb`),!1):e.beforeUpload?e.beforeUpload(d):!0}function n(d,_){if(o("warning",`${p.value.limit}${e.limit}`),e.onExceed)return e.onExceed(d,_)}function y(d,_,A){if(o("error",`${p.value.error}`),e.onError)return e.onError(d,_,A)}function l(d){if(d.url&&e.preview){const _=d.url,A=xe(_);let v=null;A=="img"?v=q("img",{class:"agel-upload-preview-img",src:_}):A=="video"?v=q("video",{class:"agel-upload-preview-video",src:_,controls:!0}):A=="audio"?v=q("audio",{class:"agel-upload-preview-audio",src:_,controls:!0}):v=q("p",null,"该文件不支持预览"),Xe({title:"",customClass:"agel-upload-preview-msgbox",center:!0,message:v,confirmButtonText:"下载",showConfirmButton:!1}).then(()=>{let b=document.createElement("a");b.href=_||"",b.download=d.name,b.target="_blank",b.click(),b=null})}e.onPreview&&e.onPreview(d)}function k(d){var _;(_=t.value)==null||_.abort(d)}function i(){var d;(d=t.value)==null||d.submit()}function a(d){var _;(_=t.value)==null||_.clearFiles(d)}function w(d){var _;(_=t.value)==null||_.handleStart(d)}function B(d){var _;(_=t.value)==null||_.handleRemove(d)}return s({abort:k,submit:i,clearFiles:a,handleStart:w,handleRemove:B}),(d,_)=>(g(),$(c(Ye),O({ref_key:"elUpload",ref:t},r.value,{"file-list":d.modelValue,class:["agel-upload",{"limit-hide-trigger":C.value}],"list-type":d.listType,limit:d.limit,"before-upload":u,"on-preview":l,"on-exceed":n,"on-error":y}),ne({tip:M(()=>[R(d.$slots,"tip",{},()=>[d.tip?(g(),I("div",Rl,z(d.tip),1)):W("",!0)])]),default:M(()=>[R(d.$slots,"default",{},()=>[d.drag?(g(),I(L,{key:0},[N(c(U),{icon:"UploadFilled",class:"el-icon--upload"}),F("div",Il,[Q(z(c(p).drag)+" ",1),F("em",null,z(c(p).upload),1)])],64)):d.listType=="picture-card"?(g(),$(c(U),{key:1,icon:"Plus"})):(g(),$(c(se),{key:2,type:"primary"},{default:M(()=>[Q(z(c(p).upload),1)]),_:1}))])]),_:2},[d.$slots.trigger?{name:"trigger",fn:M(()=>[R(d.$slots,"trigger")]),key:"0"}:void 0]),1040,["file-list","class","list-type","limit"]))}}),Vl={class:"agel-dynamic-tags"},zl=K({name:"AgelDynamicTags",__name:"AgelDynamicTags",props:{modelValue:{},createable:{type:Boolean,default:!0},repeatable:{type:Boolean},disabled:{type:Boolean},validateEvent:{type:Boolean,default:!0},customTagProp:{},type:{},closable:{type:Boolean,default:!0},hit:{type:Boolean},color:{},effect:{},round:{type:Boolean}},emits:["update:modelValue","create","click","close"],setup(m,{emit:s}){const e=m,t=s,r=V(!1),p=V(""),C=V(),o=Qe(T(()=>e.disabled)),{formItem:u}=Ze();function n(a,w){const B=["type","closable","hit","color","effect","round"],d=e.customTagProp?e.customTagProp(a,w):{};return{...Ee(B,e),...d}}function y(a,w){let B=[...e.modelValue];B.splice(w,1),t("close",a,w),t("update:modelValue",B)}function l(a,w){t("click",a,w)}function k(){r.value=!0,Z(()=>{var a,w;(w=(a=C.value)==null?void 0:a.input)==null||w.focus()})}function i(){p.value&&(e.modelValue.indexOf(p.value)==-1||e.repeatable)&&(t("update:modelValue",e.modelValue.concat(p.value)),t("create",p)),r.value=!1,p.value=""}return Y(()=>e.modelValue,()=>{var a;e.validateEvent&&((a=u==null?void 0:u.validate)==null||a.call(u,"change").catch(w=>ll()))}),(a,w)=>(g(),I("div",Vl,[(g(!0),I(L,null,j(a.modelValue,(B,d)=>(g(),$(c(el),O({key:B+"-"+d,"disable-transitions":!0,ref_for:!0},n(B,d),{onClose:_=>y(B,d),onClick:_=>l(B,d)}),{default:M(()=>[F("span",null,z(B),1)]),_:2},1040,["onClose","onClick"]))),128)),a.createable?(g(),I(L,{key:0},[r.value?(g(),$(c(oe),{key:0,class:"new-tag-input",modelValue:p.value,"onUpdate:modelValue":w[0]||(w[0]=B=>p.value=B),disabled:c(o),ref_key:"InputRef",ref:C,onKeyup:gl(i,["enter"]),onBlur:i},null,8,["modelValue","disabled"])):(g(),$(c(se),{key:1,class:"new-tag-button",disabled:c(o),onClick:k},{default:M(()=>[Q("+ New Tag")]),_:1},8,["disabled"]))],64)):W("",!0)]))}}),Nl={class:"agel-map-input"},Ol={class:"ag-dialog-body"},Dl={class:"addr-row"},Kl={class:"addr-label"},Wl={key:0,class:"addr-error"},ql={class:"addr-row"},Ll={class:"addr-label"},Hl={class:"name"},Ul={class:"addr"},jl={class:"agel-map-box",style:{width:"100%",height:"400px",position:"relative"}},Gl=["id"],Xl=["id"],Yl={class:"dialog-footer"},Jl=K({name:"AgelMapInput",__name:"AgelMapInput",props:{modelValue:{},editable:{type:Boolean},keywordSearch:{type:Boolean,default:!0},destroyDialogOnClose:{type:Boolean},AMap:{type:Function,default:m=>m(window.AMap)},placeholder:{},disabled:{type:Boolean},readonly:{type:Boolean},clearable:{type:Boolean},prefixIcon:{default:"MapLocation"},suffixIcon:{},size:{},validateEvent:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(m,{emit:s}){const e=m,t=s,r=V(""),p=V(!1),C=V(!1),o=V(!1),u=V(""),n=V(""),y=V(),l={id:"map-"+Math.random(),Instance:null,AMap:null,Marker:null,PlaceSearch:null,Autocomplete:null,Geocoder:null},k=T(()=>Array.isArray(e.modelValue)?e.modelValue[0]||"":e.modelValue),i=ue({"zh-cn":{title:"地图选择器",address:"已选中地址",nolnglat:"无经纬度",error:"请先选择地点",keyword:"关键字检索",keywordPlaceholder:"请输入关键字检索地址",confrim:"确 定"},en:{title:"Map selector",address:"Address",keyword:"Keyword",nolnglat:"No latitude and longitude",error:"Please select the location first",keywordPlaceholder:"Please input keyword search",confrim:"Confrim"}});function a(){p.value=!0,Z(()=>C.value=!0)}function w(){if(l.AMap!==null){B();return}const f=["AMap.PlaceSearch","AMap.Autocomplete","AMap.AutoComplete","AMap.Geocoder"];o.value=!0,e.AMap(x=>{o.value=!1,x&&x.Map?(l.AMap=x,B()):console.error("Error:AMap is not valid",x)},f)}function B(){if(l.Instance){A();return}l.Instance=new l.AMap.Map("map-"+l.id,{zoom:12}),l.Geocoder=new l.AMap.Geocoder,l.Autocomplete=new(l.AMap.Autocomplete||l.AMap.AutoComplete),l.PlaceSearch=new l.AMap.PlaceSearch({map:l.Instance,pageSize:5,pageIndex:1,panel:"panel-"+l.id,autoFitView:!0}),l.PlaceSearch.on("selectChanged",h),l.Instance.on("click",v),A()}function d(){y.value=null,n.value="",u.value="",r.value="",l.PlaceSearch&&l.PlaceSearch.clear(),S(!1),e.destroyDialogOnClose&&(l.Instance.destroy(),l.Instance=null,l.id="map-"+Math.random(),p.value=!1)}function _(f,x){if(!f||f.trim()=="")return x([]);l.Autocomplete.search(f,(D,H)=>{x(D=="complete"?H.tips:[])})}function A(){const f=e.modelValue;typeof k.value=="string"&&(n.value=k.value),Array.isArray(f)&&f[1]&&f[2]?(y.value=new l.AMap.LngLat(f[1],f[2]),l.Instance.setZoomAndCenter(12,y.value),S()):(y.value=null,S(!1))}function v(f){l.Geocoder.getAddress(f.lnglat,(x,D)=>{x==="complete"&&D.regeocode&&(u.value="",r.value="",n.value=D.regeocode.formattedAddress,y.value=f.lnglat,S())})}function b(f){f!=null&&(f.location&&(n.value=f.name,y.value=f.location,r.value=""),S(!1),l.PlaceSearch.search(f.district+f.name))}function h(f){n.value=f.selected.data.name,y.value=f.selected.data.location,r.value="",S(!1)}function S(f=!0){l.Marker&&(l.Instance.remove(l.Marker),l.Marker=null),f&&y.value&&n.value&&(l.PlaceSearch&&l.PlaceSearch.clear(),l.Marker=new l.AMap.Marker({position:y.value,label:{direction:"bottom",content:n.value}}),l.Instance.add(l.Marker))}function E(){const f=e.modelValue;n.value&&y.value?(r.value="",Array.isArray(f)?t("update:modelValue",[n.value,y.value.lng,y.value.lat]):t("update:modelValue",n.value),C.value=!1):r.value=i.value.error}function P(){t("update:modelValue",Array.isArray(e.modelValue)?[]:"")}return(f,x)=>{const D=be("loading");return g(),I("div",Nl,[N(c(oe),{"model-value":k.value,placeholder:f.placeholder,disabled:f.disabled,readonly:f.readonly,clearable:f.clearable,prefixIcon:f.prefixIcon,"suffix-icon":f.suffixIcon,size:f.size,"validate-event":f.validateEvent,onClear:P,onClick:re(a,["stop"])},ne({prefix:M(()=>[R(f.$slots,"prefix")]),suffix:M(()=>[R(f.$slots,"suffix")]),_:2},[f.$slots.prepend?{name:"prepend",fn:M(()=>[R(f.$slots,"prepend")]),key:"0"}:void 0,f.$slots.append?{name:"append",fn:M(()=>[R(f.$slots,"append")]),key:"1"}:void 0]),1032,["model-value","placeholder","disabled","readonly","clearable","prefixIcon","suffix-icon","size","validate-event"]),p.value?(g(),$(c(ol),{key:0,width:"800px",title:c(i).title,modelValue:C.value,"onUpdate:modelValue":x[2]||(x[2]=H=>C.value=H),"append-to-body":"",class:"agel-map-input-dialog","close-on-press-escape":!1,onOpened:w,onClosed:d},{footer:M(()=>[F("span",Yl,[N(c(se),{type:"primary",onClick:E},{default:M(()=>[Q(z(c(i).confrim),1)]),_:1})])]),default:M(()=>[F("div",Ol,[F("div",Dl,[F("div",Kl,z(c(i).address),1),N(c(oe),{modelValue:n.value,"onUpdate:modelValue":x[0]||(x[0]=H=>n.value=H),readonly:!f.editable},ne({_:2},[Array.isArray(f.modelValue)?{name:"append",fn:M(()=>[F("span",null,z(y.value?y.value.lng+" , "+y.value.lat:c(i).nolnglat),1)]),key:"0"}:void 0]),1032,["modelValue","readonly"]),r.value?(g(),I("div",Wl,z(r.value),1)):W("",!0)]),F("div",ql,[F("div",Ll,z(c(i).keyword),1),N(c(tl),{style:{width:"100%"},modelValue:u.value,"onUpdate:modelValue":x[1]||(x[1]=H=>u.value=H),"popper-class":"agel-map-input-popper","fetch-suggestions":_,placeholder:c(i).keywordPlaceholder,"value-key":"name",clearable:"",onSelect:b,onClear:S},{default:M(({item:H})=>[F("span",null,[F("i",{class:J(H.location?"el-icon-location-information":"el-icon-search")},null,2)]),F("span",Hl,z(H.name),1),F("span",Ul,z(H.district+H.address),1)]),_:1},8,["modelValue","placeholder"])]),X((g(),I("div",jl,[F("div",{id:"map-"+l.id,style:{width:"100%",height:"100%"}},null,8,Gl),F("div",{id:"panel-"+l.id,class:"agel-map-panel"},null,8,Xl)])),[[D,o.value]])])]),_:1},8,["title","modelValue"])):W("",!0)])}}});function Ql(m){const s=m.merge.keys||[],e=T(()=>pe(m.columns).map((o,u)=>({name:o.prop,index:u})).filter(o=>m.merge.keys.includes(o.name))),t=T(()=>{const o=m.data,u=m.merge.direction||"auto",n=e.value,y={};if(n.length>0&&o.length>0)for(let l=0;l<o.length;l++)for(let k=0;k<n.length;k++){let i=1,a=1;(u==="vertical"||u==="auto")&&(l>0&&o[l][n[k].name]===o[l-1][n[k].name]&&(i=0),i>0&&(i=p(o,l,l+1,1,n[k].name))),(u==="horizontal"||u==="auto")&&(k>0&&o[l][n[k].name]===o[l][n[k-1].name]&&(a=0),a>0&&(a=r(o[l],k,k+1,1,n.length)));const w=n[k].index+"_"+l;y[w]=[i,a]}return y});function r(o,u,n,y,l){return n<l&&o[s[u]]===o[s[n]]?r(o,u,++n,++y,l):y}function p(o,u,n,y,l){return n<o.length&&o[u][l]===o[n][l]?p(o,u,++n,++y,l):y}function C({rowIndex:o,columnIndex:u}){return t.value[u+"_"+o]}return C}const Zl={class:"agel-table agel-table-resize"},et=K({name:"AgelTable",__name:"AgelTable",props:{columns:{default:()=>[]},page:{},merge:{},loading:{type:Boolean},request:{},data:{default:()=>[]},size:{},width:{default:"100%"},height:{},maxHeight:{},fit:{type:Boolean,default:!0},stripe:{type:Boolean},border:{type:Boolean},rowKey:{},context:{},showHeader:{type:Boolean,default:!0},showSummary:{type:Boolean},sumText:{},summaryMethod:{},rowClassName:{},rowStyle:{},cellClassName:{},cellStyle:{},headerRowClassName:{},headerRowStyle:{},headerCellClassName:{},headerCellStyle:{},highlightCurrentRow:{type:Boolean},currentRowKey:{},emptyText:{},expandRowKeys:{},defaultExpandAll:{type:Boolean},defaultSort:{},tooltipEffect:{},tooltipOptions:{},spanMethod:{},selectOnIndeterminate:{type:Boolean,default:!0},indent:{},treeProps:{},lazy:{type:Boolean},load:{},className:{},style:{},tableLayout:{},scrollbarAlwaysOn:{type:Boolean},flexible:{type:Boolean},showOverflowTooltip:{type:[Boolean,Object]},onSelect:{},onSelectAll:{},onSelectionChange:{},onCellMouseEnter:{},onCellMouseLeave:{},onCellClick:{},onCellDbClick:{},onCellContextmenu:{},onRowClick:{},onRowContextmenu:{},onRowDbClick:{},onHeaderClick:{},onHeaderContextmenu:{},onSortChange:{},onFilterChange:{},onCurrentChange:{},onHeaderDragend:{},onExpandChange:{}},emits:["update:page"],setup(m,{expose:s,emit:e}){var b,h,S;const t=m,r=e,p=he(),C=((b=te().AgelTable)==null?void 0:b.ElTable)||{},o=((h=te().AgelTable)==null?void 0:h.ElTableColumn)||{},u=((S=te().AgelTable)==null?void 0:S.ElPagination)||{},n=V(),y=T(()=>({...C,...G(["columns","page","merge","loading","request"],t)})),l=T(()=>({...u,...t.page})),k=T(()=>{if(!t.page)return!1;const{currentPage:E,pageSize:P,total:f,pageCount:x}=t.page;return typeof E=="number"&&typeof P=="number"&&(typeof f=="number"||typeof x=="number")}),i=T(()=>{if(t.page)return{prop:t.page.sortProp,order:t.page.sortOrder}}),a=t.merge?Ql(t):t.spanMethod,w=({columns:E})=>E.filter(P=>P.hidden!==!0).map(P=>{const x={...o,...G(["hidden","children","slot"],P)},D={};return typeof P.label=="function"&&(D.header=P.label,x.label=""),P.children&&P.children.length>0?D.default=()=>q(w,{columns:P.children}):typeof P.slot=="function"?D.default=P.slot:typeof P.slot=="string"&&P.slot.indexOf("slot-")===0&&p[P.slot]&&(D.default=p[P.slot]),q(Be,x,D)});function B(E){var P;r("update:page",{...t.page,currentPage:E}),(P=t.request)==null||P.call(t)}function d(E){var P;r("update:page",{...t.page,currentPage:1,pageSize:E}),(P=t.request)==null||P.call(t)}function _({column:E,prop:P,order:f}){var x;typeof E.sortable=="string"&&(r("update:page",{...t.page,currentPage:1,sortProp:P,sortOrder:f}),(x=t.request)==null||x.call(t))}function A(){return n.value}function v(){Z(()=>{var E,P;if(n.value&&t.data.length>1){const f=(E=i.value)==null?void 0:E.prop,x=(P=i.value)==null?void 0:P.order,D=pe(t.columns).find(H=>H.prop===f);f&&x&&typeof(D==null?void 0:D.sortable)=="boolean"&&n.value.sort(f,x)}})}return Y(()=>t.data,v),s({getRef:A}),(E,P)=>{const f=be("loading");return g(),I("div",Zl,[X((g(),$(c(Pe),O({class:"agel-table-resize",ref_key:"elTableRef",ref:n},y.value,{"span-method":c(a),"default-sort":i.value,onSortChange:_}),{empty:M(()=>[R(E.$slots,"empty")]),append:M(()=>[R(E.$slots,"append-row")]),default:M(()=>[R(E.$slots,"prepend"),R(E.$slots,"default",{},()=>[N(w,{columns:E.columns},null,8,["columns"])]),R(E.$slots,"append")]),_:3},16,["span-method","default-sort"])),[[f,E.loading]]),k.value?(g(),$(c(al),O({key:0,layout:"->,total,prev, pager, next, sizes",disabled:E.loading},l.value,{"onUpdate:currentPage":B,"onUpdate:pageSize":d}),null,16,["disabled"])):W("",!0)])}}}),lt=K({name:"AgelMenuItem",__name:"AgelMenuItem",props:{index:{},title:{},icon:{},disabled:{type:Boolean},hidden:{type:Boolean},children:{},showTimeout:{},hideTimeout:{},popperClass:{},teleported:{type:Boolean,default:!0},popperOffset:{},expandCloseIcon:{},expandOpenIcon:{},collapseCloseIcon:{},collapseOpenIcon:{}},setup(m){const s=m,e=T(()=>G(["title","icon","children","hidden"],s));return(t,r)=>{const p=ae("AgelMenuItem",!0);return t.hidden!==!0?(g(),I(L,{key:0},[t.children&&t.children.length>0?(g(),$(c(nl),O({key:0},e.value,{index:t.index,disabled:t.disabled}),{title:M(()=>[s.icon?(g(),$(c(U),{key:0,icon:s.icon},null,8,["icon"])):W("",!0),F("span",null,z(s.title),1)]),default:M(()=>[(g(!0),I(L,null,j(t.children,(C,o)=>(g(),$(p,O({key:o,ref_for:!0},C),null,16))),128))]),_:1},16,["index","disabled"])):(g(),$(c(rl),{key:1,index:t.index,disabled:t.disabled},{title:M(()=>[F("span",null,z(s.title),1)]),default:M(()=>[s.icon?(g(),$(c(U),{key:0,icon:s.icon},null,8,["icon"])):W("",!0)]),_:1},8,["index","disabled"]))],64)):W("",!0)}}}),tt=K({name:"AgelMenu",__name:"AgelMenu",props:{menus:{},mode:{},defaultActive:{},defaultOpeneds:{},uniqueOpened:{type:Boolean},router:{type:Boolean},menuTrigger:{},collapse:{type:Boolean},backgroundColor:{},textColor:{},activeTextColor:{},closeOnClickOutside:{type:Boolean},collapseTransition:{type:Boolean},ellipsis:{type:Boolean},popperOffset:{},ellipsisIcon:{},popperEffect:{},popperClass:{},showTimeout:{},hideTimeout:{}},emits:["close","select","open"],setup(m,{expose:s,emit:e}){const t=m,r=e,p=V();return s({open:(...C)=>p.value.open(...C),close:(...C)=>p.value.close(...C)}),(C,o)=>(g(),$(c(sl),O({ref_key:"menuRef",ref:p},t,{menus:"menus",onSelect:o[0]||(o[0]=(...u)=>r("select",...u)),onClose:o[1]||(o[1]=(...u)=>r("close",...u)),onOpen:o[2]||(o[2]=(...u)=>r("open",...u))}),{default:M(()=>[(g(!0),I(L,null,j(C.menus,(u,n)=>(g(),$(lt,O({key:n,ref_for:!0},u),null,16))),128))]),_:1},16))}}),ot=["onMouseenter","title"],at={class:"tab-title"},nt=K({name:"AgelNavTabs",__name:"AgelNavTabs",props:{tabs:{default:()=>[]},routePath:{},homePath:{},more:{type:Boolean,default:!0},fixed:{type:Boolean},reload:{type:Boolean},isBackground:{type:Boolean}},emits:["update:tabs","pathChange","reload"],setup(m,{emit:s}){const e=m,t=s,r=V(),p=V(),C=ge({trigger:"click",ref:null,offset:5}),o=V(""),u=T(()=>{const v=b=>b.path==e.homePath?2:b.fixed?1:0;return[...e.tabs].sort((b,h)=>v(h)-v(b))}),n=T(()=>e.tabs.find(v=>v.path===o.value)),y=ue({"zh-cn":{more:"更多",reload:"重新加载",fixed:"固定标签",fixedCancel:"取消固定标签",close:"关闭其他标签",closeAll:"关闭所有标签"},en:{more:"More",reload:"Reload",fixed:"Fixed tab",fixedCancel:"Cancel fixed tab",close:"Close other tab",closeAll:"Close all tab"}});function l(v){let b=e.tabs.findIndex(S=>S.path===v);if(b===-1)return;e.routePath===v&&(e.tabs[b+1]?w(e.tabs[b+1].path):w(e.tabs[b-1].path));const h=[...e.tabs];h.splice(b,1),t("update:tabs",h)}function k(){const v=e.tabs.filter(b=>!d(b)||b.path===n.value.path);t("update:tabs",v),w(n.value.path)}function i(){const v=e.tabs.find(b=>b.path==e.homePath);v&&(t("update:tabs",[v]),w(v.path))}function a(){n.value.fixed=!n.value.fixed}function w(v){v!==e.routePath&&t("pathChange",v)}function B(){n.value.loading=!0,setTimeout(()=>{n.value.loading=!1},300),t("reload",n.value)}function d(v){return!(v.fixed||v.path==e.homePath)}function _(v){var b;(b=p==null?void 0:p.value)==null||b.hide()}function A(v){if(r.value&&r.value.querySelectorAll)if(v===-1){let b=r.value.querySelector(".tabs-more-button");b&&(o.value=e.routePath,C.trigger="click",C.ref=b)}else{let b=r.value.querySelectorAll(".el-tabs__item")[v];b&&(o.value=b.id.substr(4),C.trigger="contextmenu",C.ref=b)}}return(v,b)=>(g(),I("div",{ref_key:"tabsRef",ref:r,class:J(["agel-nav-tabs",v.isBackground?"__is-background":"__concise",{"__has-more":v.more}]),onContextmenu:b[3]||(b[3]=re(()=>{},["prevent"])),onMouseleave:b[4]||(b[4]=h=>_())},[N(c(ul),{"model-value":v.routePath,type:"card",onTabChange:b[0]||(b[0]=h=>w(h))},{default:M(()=>[(g(!0),I(L,null,j(u.value,(h,S)=>(g(),$(c(il),{key:h.path+S,label:h.title,name:h.path,closable:d(h)},{label:M(()=>[F("span",{class:J(["agel-tab",{"fold-fixed-tab":h.fixed}]),onMouseenter:E=>A(S),title:h.title},[h.loading?(g(),$(c(U),{key:0,class:"is-loading",icon:"Loading"})):h.icon||h.fixed?(g(),$(c(U),{key:1,icon:h.icon||"Menu"},null,8,["icon"])):W("",!0),F("span",at,z(h.title),1),X(N(c(U),{class:"is-icon-close",onClick:re(E=>l(h.path),["stop"]),icon:"Close"},null,8,["onClick"]),[[le,h.path!=v.homePath&&u.value.length>1]])],42,ot)]),_:2},1032,["label","name","closable"]))),128))]),_:1},8,["model-value"]),v.more?(g(),$(c(se),{key:0,class:"tabs-more-button",type:"primary",onMouseenter:b[1]||(b[1]=h=>A(-1))},{default:M(()=>[F("span",null,z(c(y).more),1),N(c(U),{icon:"ArrowDown"})]),_:1})):W("",!0),N(c(dl),{ref_key:"popoverRef",ref:p,"virtual-ref":C.ref,trigger:C.trigger,"virtual-triggering":"","popper-class":"agel-tabs-menu","hide-after":0,"show-after":0,teleported:!1,offset:C.offset},{default:M(()=>[n.value?(g(),I("div",{key:0,class:"agel-tabs-menu-box",onClick:b[2]||(b[2]=h=>_())},[v.reload?(g(),I("div",{key:0,onClick:B},[N(c(U),{icon:"Refresh"}),F("span",null,z(c(y).reload),1)])):W("",!0),v.fixed&&n.value.path!==v.homePath?(g(),I("div",{key:1,onClick:a},[n.value.fixed?(g(),$(c(U),{key:0,icon:"StarFilled",color:"#f7ba2a"})):(g(),$(c(U),{key:1,icon:"Star"})),F("span",null,z(n.value.fixed?c(y).fixedCancel:c(y).fixed),1)])):W("",!0),R(v.$slots,"menu",{item:n.value}),X(F("div",{onClick:k},[N(c(U),{icon:"Close"}),F("span",null,z(c(y).close),1)],512),[[le,C.trigger=="contextmenu"||!v.homePath]]),X(F("div",{onClick:i},[N(c(U),{icon:"Close"}),F("span",null,z(c(y).closeAll),1)],512),[[le,v.homePath&&C.trigger=="click"]])])):W("",!0)]),_:3},8,["virtual-ref","trigger","offset"])],34))}});let Re=V(0),Ie=V();const ce=Pl(()=>{Re.value=window.innerWidth,Ie.value=window.innerHeight},500),rt=["onMouseenter"],st=["onClick"],it={class:"agel-context-menu-item_title"},ut={key:1,class:"agel-context-menu-item_remark"},dt=K({name:"AgelContextMenu",__name:"AgelContextMenu",props:{modelValue:{type:Boolean},x:{},y:{},menus:{default:()=>[]},transition:{default:"el-zoom-in-top"}},emits:["update:modelValue","select"],setup(m,{emit:s}){var A,v,b;const e=m,t=s,r=V(),p=V(-1),C=((b=(v=(A=bl())==null?void 0:A.parent)==null?void 0:v.type)==null?void 0:b.name)!=="BaseTransition",o=ge({width:0,height:0,paddingTop:0,load:!1,timer:0}),u=ge([]),n=T(()=>({x:e.x,y:e.y})),y=T(()=>{if(!C){const E=Re.value-o.width,P=Ie.value-o.height,f={position:"absolute"};return e.x<=E&&e.y<=P?{...f,left:"100%",top:0-o.paddingTop+"px"}:e.x<=E&&e.y>P?{...f,left:"100%",bottom:0-o.paddingTop+"px"}:e.x>E&&e.y<=P?{...f,right:"0px",top:"100%"}:e.x>E&&e.y>P?{...f,right:"0px",bottom:"100%"}:{}}const h=window.innerWidth-o.width,S=window.innerHeight-o.height;return{position:"fixed",top:Math.min(e.y,S)+"px",left:Math.min(e.x,h)+"px"}}),l=T(()=>a(e.menus)),k=T(()=>e.menus.some(h=>h.icon!=null));function i(h=[]){return a(h).length>0}function a(h=[]){return h.filter(S=>S.hidden!==!0)}function w(){t("update:modelValue",!1)}function B(h,S){i(h.children)?S&&S.stopPropagation():t("select",h)}function d(){if(!r.value)return;const h=r.value.cloneNode(!0);h.style.cssText="position: absolute; visibility: hidden; display: block;",document.body.appendChild(h),o.width=h.offsetWidth,o.height=h.offsetHeight,o.paddingTop=parseFloat(getComputedStyle(h).paddingTop),document.body.removeChild(h)}function _(){if(!r.value)return;const h=r.value.children;for(let S=0;S<h.length;S++){const P=h[S].getBoundingClientRect();u[S]=[P.x+P.width,P.y+P.height],o.load=!0}}return Y(()=>[e.menus],()=>{Z(()=>d())},{immediate:!0}),Y(()=>[n.value,e.modelValue],()=>{e.modelValue&&(clearTimeout(o.timer),o.load=!1,o.timer=setTimeout(_,310))}),ie(()=>{C&&(ce(),document.addEventListener("click",w),window.addEventListener("resize",ce))}),ye(()=>{C&&(document.removeEventListener("click",w),window.removeEventListener("resize",ce))}),(h,S)=>{const E=ae("AgelIcon"),P=ae("AgelContextMenu",!0);return l.value.length>0?(g(),$(yl,{key:0,to:"body",disabled:!C},[N(hl,{name:h.transition},{default:M(()=>[X(F("div",{ref_key:"menuRef",ref:r,class:"agel-context-menu",style:vl(y.value),onMouseleave:S[0]||(S[0]=f=>p.value=-1),onContextmenu:S[1]||(S[1]=re(()=>{},["prevent"]))},[(g(!0),I(L,null,j(l.value,(f,x)=>(g(),I("div",{key:x,class:J(["agel-context-menu-item",f.className,{__divided:f.divided,__disabled:f.disabled,__hasIcon:k.value,__hasChildren:i(f.children)}]),onMouseenter:D=>p.value=x},[F("div",{class:"agel-menu-item_content",onClick:D=>B(f,D)},[f.icon?(g(),$(E,{key:0,icon:f.icon,class:"agel-context-menu-item_icon"},null,8,["icon"])):W("",!0),F("span",it,z(f.title),1),f.remark?(g(),I("span",ut,z(f.remark),1)):W("",!0),i(f.children)?(g(),$(E,{key:2,icon:"ArrowRight",class:"agel-context-menu_arrow"})):W("",!0)],8,st),i(f.children)?(g(),$(P,{key:0,"model-value":p.value===x&&o.load,menus:f.children,transition:h.transition,x:u[x]?u[x][0]:0,y:u[x]?u[x][1]:0,onSelect:B},null,8,["model-value","menus","transition","x","y"])):W("",!0)],42,rt))),128))],36),[[le,h.modelValue]])]),_:1},8,["name"])],8,["disabled"])):W("",!0)}}}),pt={class:"agel-count-to"},ct=K({name:"AgelCountTo",__name:"AgelCountTo",props:{from:{default:0},to:{default:0},duration:{default:2500},precision:{default:0},prefix:{default:""},suffix:{default:""},autoplay:{type:Boolean,default:!0},showSeparator:{type:Boolean,default:!0}},setup(m,{expose:s}){const e=m;let t=V(A(e.from)),r=e.from,p=e.duration,C=!1,o=0,u=0,n=0,y=0,l=0;const k=T(()=>e.from>e.to);function i(){r=e.from,u=0,p=e.duration,C=!1,cancelAnimationFrame(l),l=requestAnimationFrame(_)}function a(){cancelAnimationFrame(l)}function w(){C?(B(),C=!1):(cancelAnimationFrame(l),C=!0)}function B(){u=0,p=y,r=o,cancelAnimationFrame(l),l=requestAnimationFrame(_)}function d(){u=0,t.value=A(e.from),cancelAnimationFrame(l)}function _(b){u===0&&(u=b),n=b;const h=n-u;y=p-h,k.value?(o=r-v(h,0,r-e.to,p),o=o<e.to?e.to:o):(o=v(h,r,e.to-r,p),o=o>e.to?e.to:o),t.value=A(o),h<p&&(l=requestAnimationFrame(_))}function A(b){let h=b.toFixed(e.precision);h+="";const S=h.split("."),E=".";let P=S[0];const f=S.length>1?E+S[1]:"",x=/(\d+)(\d{3})/;if(e.showSeparator)for(;x.test(P);)P=P.replace(x,"$1,$2");return e.prefix+P+f+e.suffix}function v(b,h,S,E){return S*(-Math.pow(2,-10*b/E)+1)*1024/1023+h}return ie(()=>{e.autoplay&&i()}),ye(()=>{cancelAnimationFrame(l)}),Y(()=>e.from,()=>{e.autoplay&&i()}),Y(()=>e.to,()=>{e.autoplay&&i()}),s({start:i,pause:a,resume:B,pauseResume:w,reset:d}),(b,h)=>(g(),I("span",pt,z(c(t)),1))}}),ft=["title"],mt=K({name:"AgelEllipsis",__name:"AgelEllipsis",props:{lineClamp:{default:1},wordClamp:{default:0},titleTip:{type:Boolean},effect:{},placement:{},enterable:{type:Boolean},offset:{},popperClass:{},showArrow:{type:Boolean},showAfter:{default:750},hideAfter:{}},setup(m){const s=m,e=he(),t=V(!1),r=V(null),p=V(""),C=T(()=>s.wordClamp>0?"word":"line"),o=T(()=>{let a="";return C.value=="line"&&s.lineClamp>1&&(a="__line-clamp"),C.value=="word"&&s.wordClamp>1&&(a="__word-clamp"),["agel-ellipsis",a]}),u=T(()=>[s.popperClass||"","agel-ellipsis-popper"]),n=T(()=>C.value=="line"&&s.lineClamp>1?{"-webkit-line-clamp":s.lineClamp}:""),y=T(()=>s.titleTip&&t.value?p.value:""),l=T(()=>s.titleTip||t.value==!1),k=()=>{if(!e.default)return null;const a=e.default(),w=i(a);return C.value=="word"&&w&&typeof w.children=="string"&&(p.value=w.children,w.children.length>s.wordClamp?(w.children=w.children.substring(0,s.wordClamp)+"...",t.value=!0):t.value=!1),Z(()=>{var B;C.value=="line"&&r.value&&(s.lineClamp>1?t.value=r.value.scrollHeight>r.value.clientHeight:s.lineClamp===1&&(t.value=r.value.scrollWidth>r.value.clientWidth),p.value=((B=r.value)==null?void 0:B.textContent)||"")}),a};function i(a){let w=a[0];return Array.isArray(w.children)?i(w.children):w}return(a,w)=>(g(),$(c(pl),{disabled:l.value,placement:a.placement,content:p.value,enterable:a.enterable,offset:a.offset,"popper-class":u.value,"show-after":a.showAfter,"hide-after":a.hideAfter,"show-arrow":a.showArrow,"append-to":"body"},{default:M(()=>[F("div",O({ref_key:"wrapper",ref:r,class:o.value,style:n.value},a.$attrs,{title:y.value}),[N(k)],16,ft)]),_:1},8,["disabled","placement","content","enterable","offset","popper-class","show-after","hide-after","show-arrow"]))}}),yt={install:function(m){const s=[ee,Al,_l,Bl,$l,Sl,Tl,El,Fl,zl,Jl,et,tt,nt,U,dt,ct,mt];m.use(cl),s.forEach(e=>m.component(e.name,e))}};export{yt as E};
